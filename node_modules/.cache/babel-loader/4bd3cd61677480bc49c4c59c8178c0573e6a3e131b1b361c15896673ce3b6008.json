{"ast":null,"code":"import React,{useState}from'react';import'../styles/register.css';import logo from'../assets/logo.png';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[step,setStep]=useState(1);// For tracking the current form step\nconst[formData,setFormData]=useState({email:'',name:'',age:'',college:'',paymentMethod:''});const[isOtpSent,setIsOtpSent]=useState(false);const[otpError,setOtpError]=useState('');// const handleNextStep = () => {\n//   setStep(step + 1);\n// };\nconst handleNextStep=()=>{if(step===1){handleSendOtp();// On the first step, send OTP\n}else if(step===2&&isOtpSent){handleVerifyOtp();// On the second step, verify OTP\n}};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSendOtp=async()=>{try{const response=await axios.post('localhost/api/otp/generate',{email:formData.email});if(response.status===200){setIsOtpSent(true);setStep(step+1);// Move to the next step after sending OTP\n}}catch(error){console.error('Error sending OTP:',error);}};const handleVerifyOtp=async()=>{try{const response=await axios.post('localhost/api/otp/verify',{email:formData.email,otp:formData.otp});if(response.status===200){setOtpError('');setStep(step+1);}}catch(error){setOtpError('Invalid or expired OTP');console.error('Error verifying OTP:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Create Account\",className:\"hero-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[step===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-step\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"What's your email?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Don't worry we won't tell anyone.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"EMAIL\",value:formData.email,onChange:handleChange,className:\"input-field\"}),/*#__PURE__*/_jsx(\"p\",{className:\"email-note\",children:\"Yes; United Youth Parliament may use and share my email to enable personalized advertising and to send me info about new releases, game updates, and events.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStep,className:\"next-button\",children:\"Next\"})]}),step===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-step\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Choose Payment Method\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"paymentMethod\",value:formData.paymentMethod,onChange:handleChange,className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Payment Method\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paypal\",children:\"PayPal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"creditcard\",children:\"Credit Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"debitcard\",children:\"Debit Card\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Form Submitted!'),className:\"submit-button\",children:\"Submit\"})]})]})]});}export default Register;","map":{"version":3,"names":["React","useState","logo","axios","jsx","_jsx","jsxs","_jsxs","Register","step","setStep","formData","setFormData","email","name","age","college","paymentMethod","isOtpSent","setIsOtpSent","otpError","setOtpError","handleNextStep","handleSendOtp","handleVerifyOtp","handleChange","e","target","value","response","post","status","error","console","otp","className","children","src","alt","type","placeholder","onChange","onClick","alert"],"sources":["D:/UYPP/UYM-3.0/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/register.css';\r\nimport logo from '../assets/logo.png'; \r\nimport axios from 'axios';\r\n\r\nfunction Register() {\r\n  const [step, setStep] = useState(1); // For tracking the current form step\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    name: '',\r\n    age: '',\r\n    college: '',\r\n    paymentMethod: '',\r\n  });\r\n\r\n  const [isOtpSent, setIsOtpSent] = useState(false);\r\n  const [otpError, setOtpError] = useState('');\r\n\r\n  // const handleNextStep = () => {\r\n  //   setStep(step + 1);\r\n  // };\r\n  \r\n  const handleNextStep = () => {\r\n    if (step === 1) {\r\n      handleSendOtp(); // On the first step, send OTP\r\n    } else if (step === 2 && isOtpSent) {\r\n      handleVerifyOtp(); // On the second step, verify OTP\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSendOtp = async () => {\r\n    try {\r\n      const response = await axios.post('localhost/api/otp/generate', {\r\n        email: formData.email,\r\n      });\r\n      if (response.status === 200) {\r\n        setIsOtpSent(true);\r\n        setStep(step + 1); // Move to the next step after sending OTP\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending OTP:', error);\r\n    }\r\n  };\r\n  const handleVerifyOtp = async () => {\r\n    try {\r\n      const response = await axios.post('localhost/api/otp/verify', {\r\n        email: formData.email,\r\n        otp: formData.otp,\r\n      });\r\n      if (response.status === 200) {\r\n        setOtpError('');\r\n        setStep(step + 1);\r\n      }\r\n    } catch (error) {\r\n      setOtpError('Invalid or expired OTP');\r\n      console.error('Error verifying OTP:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      {/* Left-side image section */}\r\n      <div className=\"image-section\">\r\n        <img src={logo} alt=\"Create Account\" className=\"hero-image\" />\r\n\r\n      </div>\r\n\r\n      {/* Right-side form section */}\r\n      <div className=\"form-section\">\r\n        {step === 1 && (\r\n          <div className=\"form-step\">\r\n            <h2>What's your email?</h2>\r\n            <p>Don't worry we won't tell anyone.</p>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"EMAIL\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            />\r\n            <p className=\"email-note\">\r\n              Yes; United Youth Parliament may use and share my email to enable personalized advertising and to send me info about new releases, game updates, and events.\r\n            </p>\r\n            <button onClick={handleNextStep} className=\"next-button\">Next</button>\r\n          </div>\r\n        )}\r\n\r\n\r\n        {/* {step === 2 && (\r\n          <div className=\"form-step\">\r\n            <h2>Name</h2>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            />\r\n            <h2>Course</h2>\r\n            <input\r\n              type=\"text\"\r\n              name=\"Course\"\r\n              placeholder=\"Ex : B.Tech\"\r\n              value={formData.course}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            />\r\n            <h2>Contact</h2>\r\n            <input\r\n              type=\"number\"\r\n              name=\"Mobile No.\"\r\n              placeholder=\"Mobile No.\"\r\n              value={formData.college}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            />\r\n            \r\n            <h2>College</h2>\r\n            <input\r\n              type=\"text\"\r\n              name=\"college\"\r\n              placeholder=\"College Name\"\r\n              value={formData.college}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            />\r\n            <button onClick={handleNextStep} className=\"next-button\">Next</button>\r\n          </div>\r\n        )} */}\r\n\r\n        {step === 3 && (\r\n          <div className=\"form-step\">\r\n            <h2>Choose Payment Method</h2>\r\n            <select\r\n              name=\"paymentMethod\"\r\n              value={formData.paymentMethod}\r\n              onChange={handleChange}\r\n              className=\"input-field\"\r\n            >\r\n              <option value=\"\">Select Payment Method</option>\r\n              <option value=\"paypal\">PayPal</option>\r\n              <option value=\"creditcard\">Credit Card</option>\r\n              <option value=\"debitcard\">Debit Card</option>\r\n            </select>\r\n            <button onClick={() => alert('Form Submitted!')} className=\"submit-button\">Submit</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}